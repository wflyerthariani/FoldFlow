conda.enabled = true

params.rfdiff_editables_dir = '/ibex/user/thariaaa/RFdiffContainer'
params.rfdiff_sif_path = '/ibex/user/thariaaa/RFdiffContainer/RFdiffusion.sif'
params.rfdiff_config_path = "${PWD}/module_configs"
params.num_designs = 1
params.output_prefix = 'test'

params.mpnn_editables_dir = '/ibex/user/thariaaa/MPNNContainer'
params.mpnn_sif_path = '/ibex/user/thariaaa/MPNNContainer/ProteinMPNN.sif'
params.mpnn_num_sequences = 3

params.alphafold_sif_path = '/ibex/user/thariaaa/AlphaFoldContainer/AlphaFold.sif'
params.alphafold_data_dir = '/ibex/reference/KSL/alphafold/2.3.1/'

process {
    executor = 'slurm'
    queue = 'batch'
    cpus = 8
    memory = '64 GB'
    time = '1h'
    clusterOptions = '--gres=gpu:1 --mail-user=arman.thariani@kaust.edu.sa --mail-type=ALL'
}

singularity {
    enabled = true
    autoMounts = true
}

executor {
     $slurm {
        exitReadTimeout = "60 min"
    }
}